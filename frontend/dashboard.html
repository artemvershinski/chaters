<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>Chaters ‚Äî —á–∞—Ç—ã</title>
    
    <link rel="stylesheet" href="./css/style.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
</head>
<body class="dashboard-body">
    <div class="dashboard-container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="dashboard-header">
            <div class="header-left">
                <h1>chaters</h1>
            </div>
            <div class="header-right">
                <span id="userNickname" class="user-nickname"></span>
                <button id="logoutBtn" class="logout-button" aria-label="–í—ã–π—Ç–∏">‚á¢</button>
            </div>
        </div>

        <!-- Pull to refresh –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä -->
        <div class="pull-to-refresh">
            <span class="ptr-text">–ü–æ—Ç—è–Ω–∏—Ç–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</span>
            <span class="ptr-loader hidden">‚è≥</span>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="actions">
            <button id="createChatBtn" class="action-btn">
                <span class="action-icon">+</span>
                –°–æ–∑–¥–∞—Ç—å —á–∞—Ç
            </button>
            <button id="joinChatBtn" class="action-btn">
                <span class="action-icon">‚á¢</span>
                –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
            </button>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ -->
        <div class="chats-section">
            <h2>–ú–æ–∏ —á–∞—Ç—ã</h2>
            <div id="chatsList" class="chats-list"></div>
            <div id="emptyState" class="empty-state">
                <span class="empty-icon">üí¨</span>
                <h3>–ù–µ—Ç —á–∞—Ç–æ–≤</h3>
                <p>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —á–∞—Ç –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É</p>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞ -->
    <div id="createChatModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–°–æ–∑–¥–∞—Ç—å —á–∞—Ç</h3>
                <button class="close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="createChatId">ID —á–∞—Ç–∞</label>
                    <input 
                        type="text" 
                        id="createChatId" 
                        placeholder="#—á–∞—Ç" 
                        maxlength="30"
                        autocomplete="off"
                        aria-label="ID —á–∞—Ç–∞"
                    >
                    <small class="hint">–¢–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Ç–æ—á–∫–∏</small>
                </div>
                <div class="input-group">
                    <label for="createChatName">–ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞</label>
                    <input 
                        type="text" 
                        id="createChatName" 
                        placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ"
                        maxlength="50"
                        autocomplete="off"
                        aria-label="–ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞"
                    >
                </div>
                <div class="input-group">
                    <label for="messageTtl">–£–¥–∞–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑</label>
                    <select id="messageTtl" name="messageTtl" title="–í—Ä–µ–º—è —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π">
                        <option value="1">1 –¥–µ–Ω—å</option>
                        <option value="3">3 –¥–Ω—è</option>
                        <option value="7">7 –¥–Ω–µ–π</option>
                        <option value="30">30 –¥–Ω–µ–π</option>
                        <option value="0">–ù–∏–∫–æ–≥–¥–∞</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="createChatSubmit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ —á–∞—Ç—É -->
    <div id="joinChatModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —á–∞—Ç—É</h3>
                <button class="close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="joinChatId">ID —á–∞—Ç–∞</label>
                    <input 
                        type="text" 
                        id="joinChatId" 
                        placeholder="#—á–∞—Ç" 
                        maxlength="30"
                        autocomplete="off"
                        aria-label="ID —á–∞—Ç–∞"
                    >
                    <small class="hint">–í–≤–µ–¥–∏—Ç–µ ID —á–∞—Ç–∞, –Ω–∞—á–∏–Ω–∞—è —Å #</small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="joinChatSubmit" class="btn btn-primary">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–º–µ–Ω—ã –Ω–∏–∫–∞ -->
    <div id="nicknameModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–°–º–µ–Ω–∏—Ç—å –Ω–∏–∫</h3>
                <button class="close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="newNickname">–ù–æ–≤—ã–π –Ω–∏–∫</label>
                    <input 
                        type="text" 
                        id="newNickname" 
                        placeholder="–ù–∏–∫" 
                        maxlength="20"
                        autocomplete="off"
                        aria-label="–ù–æ–≤—ã–π –Ω–∏–∫"
                    >
                    <small class="counter">0/20</small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary cancel-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="updateNicknameBtn" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="toast" class="toast hidden"></div>

    <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div id="loader" class="loader hidden">
        <div class="spinner"></div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
